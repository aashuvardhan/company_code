/*
https://neetcode.io/problems/longest-substring-with-at-most-two-distinct-characters/question?list=allNC



You are given a string s, return the length of the longest substring that contains at most two distinct characters.

Note: A substring is a contiguous non-empty sequence of characters within a string.

Example 1:

Input: s = "eceba"

Output: 3
Explanation: The substring is "ece" which its length is 3.

Example 2:

Input: s = "ccaabbb"

Output: 5
Explanation: The substring is "aabbb" which its length is 5.

Constraints:

0 <= s.length <= 1,00,000
s consists of English letters.


*/

#include <bits/stdc++.h>
using namespace std;

int main() {
	// your code goes here
	string s="ccaabbb";
	
	int unique=1;
	unordered_map<char,int> umap;
	umap[s[0]]=0;
	int res=0;
	int start=0;
	int end=0;
	char first=s[0];
	char second=s[0];
	
	int i=1;
	while(i<s.size()){
	    
	    if(umap.find(s[i])==umap.end()){
	        if(unique<2){
	            unique++;
	            umap[s[i]]=i;
	            
	            second=s[i];
	        }else{
	            int diff=end-start+1;
	            res=max(res,diff);
	            
	            int prev=umap[first];
	            start=prev+1;
	            umap[s[i]]=i;
	            first=second;
	            second=s[i];
	        }
	        
	    }else{
	        umap[s[i]]=i;
	    }
	    end++;
	    cout<<s[i]<<"  "<<start<<"  "<<end<<"  "<<res<<endl;
	    i++;
	    
	}
	int diff=end-start+1;
	res=max(res,diff);
	cout<<res;

}
